<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accessible Tabpanel</title>
    <style>
        #alltabpanels {
            position: relative;
            border: solid black thin;
            padding: 1em;
        }
        
        li[aria-selected="true"] {
            background-color: yellow;
        }
        
        .notdisplayed {
            display: none;
        }
        
        #widgettablist li.notdisplayed {
            display: none;
        }
        
        .blockeddisplayed {
            display: block;
        }
        
        #widgettablist li {
            display: inline;
            margin: 0;
            padding: 1em 1em 0 1em;
        }
        
        ul#widgettablist {
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>
    <h1>Accessible Tabpanel</h1>
    <h2>Our List Of Amazing Tabs</h2>
    <ul role="tablist" id="widgettablist">
        <li role="tab" aria-controls="tabpanel1" aria-selected="true" tabindex="0">Tab 1</li>
        <li role="tab" aria-controls="tabpanel2" tabindex="-1">Tab 2</li>
        <li role="tab" aria-controls="tabpanel3" tabindex="-1">Tab 3</li>
        <li role="tab" aria-controls="tabpanel4" tabindex="-1">Tab 4</li>
        <li role="tab" aria-controls="tabpanel5" tabindex="-1">Tab 5</li>
        <li role="tab" aria-controls="tabpanel6" tabindex="-1">Tab 6</li>
        <li role="tab" aria-controls="tabpanel7" tabindex="-1">Tab 7</li>
    </ul>
    <div id="alltabpanels">
        <div role="tabpanel" id="tabpanel1" class="widgettabpanel blockeddisplayed">
            <h3>Tab Heading 1</h3>
            <p>Tab Content 1</p>
        </div>
        <div role="tabpanel" id="tabpanel2" class="widgettabpanel notdisplayed">
            <h3>Tab Heading 2</h3>
            <p>Tab Content 2</p>
        </div>
        <div role="tabpanel" id="tabpanel3" class="widgettabpanel notdisplayed">
            <h3>Tab Heading 3</h3>
            <p>Tab Content 3</p>
        </div>
        <div role="tabpanel" id="tabpanel4" class="widgettabpanel notdisplayed">
            <h3>Tab Heading 4</h3>
            <p>Tab Content 4</p>
        </div>
        <div role="tabpanel" id="tabpanel5" class="widgettabpanel notdisplayed">
            <h3>Tab Heading 5</h3>
            <p>Tab Content 5</p>
        </div>
        <div role="tabpanel" id="tabpanel6" class="widgettabpanel notdisplayed">
            <h3>Tab Heading 6</h3>
            <p>Tab Content 6</p>
        </div>
        <div role="tabpanel" id="tabpanel7" class="widgettabpanel notdisplayed">
            <h3>Tab Heading 7</h3>
            <p>Tab Content 7</p>
        </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {

            $("ul#widgettablist li").focus(function () {
                var controls = $(this).attr("aria-controls");
                $(this).attr("aria-controls", controls).attr("aria-selected", true).attr("tabindex", "0");
                $("ul#widgettablist li").not("[aria-controls='" + controls + "']").removeAttr("aria-selected").attr("tabindex", "-1");
                $(this).parent("ul").next("div#alltabpanels").children("div[id='" + controls + "']").removeClass("notdisplayed").addClass("blockeddisplayed");
                $(this).parent("ul").next("div#alltabpanels").children("div").not("[id='" + controls + "']").removeClass("blockeddisplayed").addClass("notdisplayed");
            });

            $("ul#widgettablist li").click(function () {
                $(this).focus();
            });

            $("ul#widgettablist li").keydown(function (e) {
                var code = e.which;
                if (code == 40 || code == 39) {
                    if ($(this).is(':last-child')) {
                        $("li:first").focus();
                    } else {
                        $(this).next("li:first").focus();
                    };
                };
                if (code == 37 || code == 38) {

                    if ($(this).is(':first-child')) {
                        $("li:last").focus();
                    } else {
                        $(this).prev("li:first").focus();
                    };
                };
                if (code == 8) {
                    var controls = $(this).attr("aria-controls");
                    if (code == 8) e.preventDefault();
                    $(this).addClass("notdisplayed");
                    $(this).parent("ul").next("div#alltabpanels").children("div[id='" + controls + "']").removeClass("blockeddisplayed").addClass("notdisplayed");
                    if ($(this).is(':last-child')) {
                        $("li:first").focus();
                    } else {
                        $(this).next("li").focus();
                    };
                };
            });

        });
    </script>
</body>

</html>